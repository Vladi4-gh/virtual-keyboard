(()=>{"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r={virtualKeyboard:(a="virtual-keyboard",{get currentLayoutLanguage(){var e,t;return null===(e=(t=localStorage.getItem(a))&&JSON.parse(t))||void 0===e?void 0:e.currentLayoutLanguage},set currentLayoutLanguage(e){var n,r,o;n={currentLayoutLanguage:e},o=(r=localStorage.getItem(a))?JSON.parse(r):{},localStorage.setItem(a,JSON.stringify(t(t({},o),n)))}})};var a;const o={en:[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Delele"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["ShiftLeft","z","x","c","v","b","n","m",",",".","/","ArrowUp","ShiftRight"],["ChangeLanguage","ControlLeft","AltLeft","Space","AltRight","ControlRight","ArrowLeft","ArrowDown","ArrowRight"]],ru:[["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Delele"],["CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter"],["ShiftLeft","я","ч","с","м","и","т","ь","б","ю",".","ArrowUp","ShiftRight"],["ChangeLanguage","ControlLeft","AltLeft","Space","AltRight","ControlRight","ArrowLeft","ArrowDown","ArrowRight"]]};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.label=n,this.onClick=r}var t,n;return t=e,(n=[{key:"render",value:function(){var e=document.createElement("button");e.classList.add("key"),e.textContent=this.label,e.addEventListener("click",this.onClick),this.container.appendChild(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.switchLayout(!0)}var t,n;return t=e,(n=[{key:"switchLayout",value:function(e){var t,n;t=e?null!==(n=r.virtualKeyboard.currentLayoutLanguage)&&void 0!==n?n:"en":"en"===r.virtualKeyboard.currentLayoutLanguage?"ru":"en",r.virtualKeyboard.currentLayoutLanguage=t,this.keysLayout=o[t]}},{key:"getKeyDataByCode",value:function(e){var t=this,n=function(){};return"ChangeLanguage"===e&&(n=function(){t.switchLayout(),t.renderKeyboard()}),{label:e,onClick:n}}},{key:"initializeEventListeners",value:function(){var e=this;document.addEventListener("keydown",(function(t){e.textElement.value+=t.key,t.shiftKey&&t.ctrlKey&&(e.switchLayout(),e.renderKeyboard())}))}},{key:"renderTextarea",value:function(){var e=document.createElement("textarea");e.classList.add("text"),this.container.appendChild(e),this.textElement=e}},{key:"renderKeyboard",value:function(){var e=this,t=document.querySelector(".keyboard");t&&t.remove();var n=document.createElement("div");n.classList.add("keyboard"),this.container.appendChild(n),this.keysLayout.forEach((function(t){var r=document.createElement("div");r.classList.add("keys-row"),t.forEach((function(t){var n=e.getKeyDataByCode(t);new c(r,n.label,n.onClick).render()})),n.appendChild(r)}))}},{key:"render",value:function(){this.container.classList.add("keyboard-container"),this.renderTextarea(),this.renderKeyboard(),this.initializeEventListeners()}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.addEventListener("load",(function(){var e,t,n=document.createElement("main");n.classList.add("container"),e=n,(t=document.createElement("header")).classList.add("header"),t.innerHTML='<h1 class="title">Virtual keyboard</h1>',e.appendChild(t),function(e){var t=document.createElement("div");e.appendChild(t),new u(t).render()}(n),function(e){var t=document.createElement("footer");t.classList.add("footer"),t.innerHTML='<p class="row">Windows usage only</p><p class="row">Ctrl + Shift to switch language</p>',e.appendChild(t)}(n),document.body.appendChild(n)}))})();
//# sourceMappingURL=main.min.js.map